<!DOCTYPE html>
<html lang="en" xmlns:layout="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">

</head>
<body>
	<div id="dashboardChart" class="p-2 mt-3 bg-dark-subtle rounded-3"
		th:fragment="ajaxdashboardChart">

		<script type="text/javascript" th:inline="javascript">
			/* ------------- */
			/* Google chart. */
			/* ------------- */

			google.charts.load('current', {
				packages : [ 'corechart', 'bar', 'table' ]
			});
			google.setOnLoadCallback(function() {
				loadChartData()
			})

			function loadChartData() {
				var url = baseUrl + 'getChartData';
				$.ajax({
					url : url,
					type : "GET",
					dataType : "json",
					async : true,
					success : function(data) {
						if (data) {
							drawLineChart(data);
						}
					},
					error : function(jqXHR) {
						alert('Error: ' + jqXHR.status + 'Message: ' + jqXHR.responseText);
					}
				});
			}

			function drawLineChart(chartData) {
				var dataTableData = new google.visualization.DataTable(chartData);
				var options = {
					hAxis : {
						textStyle : {
							fontSize : 10
						}
					},
					vAxis : {
						textStyle : {
							fontSize : 10
						}
					},
					// Use an HTML tooltip.
					tooltip : {
						isHtml : true
					},
					curveType : 'function',
					pointSize : 1,
					dataOpacity : 0.9,
					width : '100%',
					height : '300',
					chartArea : {
						width : '80%',
						height : '70%'
					},
					legend : {
						position : 'right',
						textStyle : {
							fontSize : 11
						}
					},
					title : "Liquid funds",
					titleFontSize : 24
				};
				var chart1_chart = new google.visualization.LineChart(document.getElementById('chart_div'));
				chart1_chart.draw(dataTableData, options);
			}

			/* We use a resize to trigger the redraw of the chart.	*/
			$(window).resize(function() {
				loadChartData();
			});
		</script>

		<div class="row">
			<div class="col">
				<ul class="nav nav-tabs">
					<li class="nav-item"><a class="nav-link active"
						aria-current="page" href="#">Chart</a></li>
					<li class="nav-item"><a class="nav-link" href="#">Timeline</a></li>
					<li class="nav-item"><a class="nav-link" href="#">Table</a></li>
				</ul>
			</div>
		</div>

		<div class="row">
			<div class="col">
				<div id="chart_div" class="chart"></div>
			</div>
		</div>

	</div>
</body>
</html>